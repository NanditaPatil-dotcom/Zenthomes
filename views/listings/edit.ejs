<% layout("layouts/boilerplate") %>
<div class="row mt-3">
  <div class="col-8">
    <h3>Edit listing</h3>
    <form 
    method="POST" 
    action="/listings/<%=listing._id%>?_method=PUT"
    novalidate 
    class="needs-validation"
    enctype="multipart/form-data"
    >


      <div class="mb-3">
        <lable  for="title" class="form-label">Title</lable>
        <input 
        name="listing[title]" 
        value="<%= listing.title %>"
        type="text"
        class="form-control"
        required>
      <div class="valid-feedback">Nice</div>
      </div>



      <div class="mb-3">
        <lable  for="title" class="form-label">Description</lable>
        <textarea 
        name="listing[description]" class="form-control" 4
        required><%=listing.description %></textarea>
      <div class="invalid-feedback">Give some context pa?</div>
      </div>

      <div class="mb-3">
        Preview <br/>
        <img src="<%= originalImageUrl %>">
     </div>


  <div class="mb-3">
  <label for="image" class="form-label">Upload new Image</label>
  <input 
    name="listing[image]" 
    type="file" 
    class="form-control"
    />
</div>

  <div class="mb-3">
  <select 
  class="form-select" 
  name="listing[category]" 
  required
  >
  <option value="Trending" <%= listing.category === "Trending" ? "selected" : "" %>>Trending</option>
  <option value="Rooms" <%= listing.category === "Rooms" ? "selected" : "" %>>Rooms</option>
  <option value="Ionic cities" <%= listing.category === "Ionic cities" ? "selected" : "" %>>Ionic cities</option>
  <option value="Beaches" <%= listing.category === "Beaches" ? "selected" : "" %>>Beaches</option>
  <option value="Camping" <%= listing.category === "Camping" ? "selected" : "" %>>Camping</option>
  <option value="Architecture" <%= listing.category === "Architecture" ? "selected" : "" %>>Architecture</option>
  </select>
  </div>


      <div class="row">
        <div class="mb-3 col-md-4">
          <lable  for="price" class="form-label">Price</lable>
          <input 
        name="listing[price]" 
        value="<%=listing.price%>" 
        type="number"
        class="form-control"
        required>
        <div class="invalid-feedback">Price is not valid daaa</div>
        </div>



        <div class="mb-3 col-md-8">
          <lable  for="country" class="form-label">Country</lable>
          <input 
        name="listing[country]" 
        value="<%=listing.country%>" 
        type="text"
        class="form-control"
        required>
        <div class="invalid-feedback">where is this country?</div>
        </div>
      </div>



        <div class="mb-3">
          <lable  for="location" class="form-label">Location</lable>
          <input 
        name="listing[location]" 
        value="<%=listing.location%>" 
        type="text"
        class="form-control"
        required>
        <div class="invalid-feedback">Give me the location pa</div>
        </div>
        <br /><br />
        <button class="btn btn-dark edit-btn mt-3">Edit</button>
        <br /> <br />
    </form>
</div>
</div>

